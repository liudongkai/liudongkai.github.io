<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.3.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: 'PFZ0Y857EY',
      apiKey: 'da65f2d4ea1c6d4dccfa6d7f197d2aaf',
      indexName: 'blog',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="The palest ink is better than the best memory.">
<meta property="og:type" content="website">
<meta property="og:title" content="Dong&#39;s Note">
<meta property="og:url" content="http://blog.liudongkai.com/page/26/index.html">
<meta property="og:site_name" content="Dong&#39;s Note">
<meta property="og:description" content="The palest ink is better than the best memory.">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Dong&#39;s Note">
<meta name="twitter:description" content="The palest ink is better than the best memory.">



  <link rel="alternate" href="/atom.xml" title="Dong's Note" type="application/atom+xml" />




  <link rel="canonical" href="http://blog.liudongkai.com/page/26/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Dong's Note</title>
  




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42337789-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42337789-4');
</script>






  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Dong's Note</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />Categories</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />Tags</a>
  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />Search</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.liudongkai.com/2008/01/29/KAV7-free/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="東木">
      <meta itemprop="description" content="The palest ink is better than the best memory.">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dong's Note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2008/01/29/KAV7-free/" itemprop="url">
                  《暴雪无情,卡巴有情》卡巴斯基反病毒软件KAV7.0免费送一年
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2008-01-29 00:00:00" itemprop="dateCreated datePublished" datetime="2008-01-29T00:00:00+08:00">2008-01-29</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Share/" itemprop="url" rel="index"><span itemprop="name">Share</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>全球领先的安全厂商卡巴斯基今天宣布发起“暴雪无情，卡巴有情”——卡巴斯基赈灾总动员，反病毒免费送一年的大规模赈灾活动。自2008年1月29日起，通过互联网向广大用户免费赠送卡巴斯基反病毒软件KAV7.0一年版激活码。现在，消费者只需注册成为卡巴斯基官方技术支持论坛——卡巴一族会员，即可免费获取卡巴斯基反病毒软件KAV 7.0一年版激活码卡巴斯基亚太区董事总经理张立申先生表示，这一活动旨在响应全社会的赈灾行动，满足受近期灾害性雨雪天气影响的用户的急切需求，保证所有消费者都能度过一个安全无毒的祥和春节。</p>
<p>1月中旬以来，我国中东部地区出现了持续的大范围灾害性雨雪天气，给交通运输、能源通信和人民生活生产带来了极其严重的影响，这一大范围的灾害性天气也严重影响了卡巴斯基产品的运输，大量产品滞留在运输途中，使得许多受灾地区的用户无法及时获取卡巴斯基产品。春节期间往往是病毒高发期，没有受到反病毒软件保护的电脑存在极大的安全隐患。为满足广大用户的急切需求，卡巴斯基决定利用互联网迅速将卡巴斯基产品送到消费者手中，让广大消费者能够过一个安全无毒的祥和春节。据卡巴斯基相关人士表示，卡巴斯基将根据灾情发展的具体情况决定此次大规模赈灾活动的持续时间，以保证所有消费者能够迅速和便捷地获取卡巴斯基产品。</p>
<p>此次赈灾活动是卡巴斯基继2007年地震造成海底光缆断裂推出应急服务并为广大网友提供免费KEY之后的又一次大规模动员，其及时响应的效率和大规模投入的决心都体现了卡巴斯基“一切为了用户安全”的核心理念。正如卡巴斯基亚太区董事总经理张立申先生所说，“想消费者所想，为所有消费者提供安全是卡巴斯基矢志追求的目标，灾情就是命令，在消费者需要的时候，我们愿意分享我们的技术和资源，为用户营造一个安全祥和年。”</p>
<p>注: 此次活动赠送的卡巴斯基激活码请在14天内激活！</p>
<p>此活动开始之后卡巴一族&lt;&lt;赠送KAV和反黑客激活码活动火热进行中……&gt;&gt;活动将会停止!</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.liudongkai.com/2008/01/24/php-regex-exclude/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="東木">
      <meta itemprop="description" content="The palest ink is better than the best memory.">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dong's Note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2008/01/24/php-regex-exclude/" itemprop="url">
                  php 正则 不包含某字符串的正则表达式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2008-01-24 00:00:00" itemprop="dateCreated datePublished" datetime="2008-01-24T00:00:00+08:00">2008-01-24</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>判断一个字符串中是否含有另一字符串，php有很多方法</p>
<p>常见函数 <code>strstr($str, &quot;abc&quot;);</code></p>
<p>正则匹配 <code>preg_match(&quot;/(abc)?/is&quot;, $str);</code></p>
<p>但是要匹配一个字符串中，不包含某字符串，用正则就比较麻烦了</p>
<p>如果不用正则 <code>!strstr($str, &quot;abc&quot;);</code> 就可以解决问题了</p>
<p>但是用正则呢，就只有这样了， <code>&quot;/^((?!abc).)*$/is&quot;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php  </span><br><span class="line">    $str = &quot;dfadfadf765577abc55fd&quot;;</span><br><span class="line">    $pattern_url = &quot;/^((?!abc).)*$/is&quot;;</span><br><span class="line">    if (preg_match($pattern_url, $str))&#123;  </span><br><span class="line">        echo &quot;不含有abc！&quot;;</span><br><span class="line">    &#125;else&#123;  </span><br><span class="line">        echo &quot;含有abc！&quot;;</span><br><span class="line">    &#125;  </span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>结果为：false，含有abc！<br><code>$str = &quot;2b3c4d5c&quot;;</code><br>注意：[^(abc)] 这个语法是逐个检查$str中的字符是否不在 a b c中，<br><code>preg_match(&quot;/[^(abc)]/s&quot;, $str, $arr);</code><br>其中字符 2 就不在 a b c 中，所以$arr返回值为2;</p>
<p>同时匹配，包含字符串 “abc”，而且不包含字符串 “xyz”<br>“/(abc)[^((?!xyz).)*$]/s”</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.liudongkai.com/2008/01/23/linux-chmod-chown/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="東木">
      <meta itemprop="description" content="The palest ink is better than the best memory.">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dong's Note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2008/01/23/linux-chmod-chown/" itemprop="url">
                  Linux改变文件或目录的访问权限命令
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2008-01-23 00:00:00" itemprop="dateCreated datePublished" datetime="2008-01-23T00:00:00+08:00">2008-01-23</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>Linux改变文件或目录的访问权限命令</p>
<p>Linux系统中的每个文件和目录都有访问许可权限，用它来确定谁可以通过何种方式对文件和目录进行访问和操作。</p>
<p>文件或目录的访问权限分为只读，只写和可执行三种。以文件为例，只读权限表示只允许读其内容，而禁止对其做任何的更改操作。可执行权限表示允许将该文件 作为一个程序执行。文件被创建时，文件所有者自动拥有对该文件的读、写和可执行权限，以便于对文件的阅读和修改。用户也可根据需要把访问权限设置为需要的 任何组合。</p>
<p>有三种不同类型的用户可对文件或目录进行访问：文件所有者，同组用户、其他用户。所有者一般是文件的创建者。所有者可以允许同组用户有权访问文件，还可以将文件的访问权限赋予系统中的其他用户。在这种情况下，系统中每一位用户都能访问该用户拥有的文件或目录。</p>
<p>每一文件或目录的访问权限都有三组，每组用三位表示，分别为文件属主的读、写和执行权限；与属主同组的用户的读、写和执行权限；系统中其他用户的读、写和执行权限。当用ls -l命令显示文件或目录的详细信息时，最左边的一列为文件的访问权限。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ls -l sobsrc. tgz</span><br><span class="line">-rw-r–r– 1 root root 483997 Ju1 l5 17:3l sobsrc. tgz</span><br></pre></td></tr></table></figure>
<p>横线代表空许可。r代表只读，w代表写，x代表可执行。注意这里共有10个位置。第一个字符指定了文件类型。在通常意义上，一个目录也是一个文件。如果第一个字符是横线，表示是一个非目录的文件。如果是d，表示是一个目录。<br>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- 　　　 rw- 　 r– 　 r–</span><br><span class="line">普通文件 文件主 组用户 其他用户</span><br></pre></td></tr></table></figure></p>
<p>是文件sobsrc.tgz 的访问权限，表示sobsrc.tgz是一个普通文件；sobsrc.tgz的属主有读写权限；与sobsrc.tgz属主同组的用户只有读权限；其他用户也只有读权限。<br>确定了一个文件的访问权限后，用户可以利用Linux系统提供的chmod命令来重新设定不同的访问权限。也可以利用chown命令来更改某个文件或目录的所有者。利用chgrp命令来更改某个文件或目录的用户组。<br>下面分别对这些命令加以介绍。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2008/01/23/linux-chmod-chown/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.liudongkai.com/2008/01/22/mysql-imput-output/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="東木">
      <meta itemprop="description" content="The palest ink is better than the best memory.">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dong's Note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2008/01/22/mysql-imput-output/" itemprop="url">
                  MySQL导出导入命令的用例
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2008-01-22 00:00:00" itemprop="dateCreated datePublished" datetime="2008-01-22T00:00:00+08:00">2008-01-22</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Mysql/" itemprop="url" rel="index"><span itemprop="name">Mysql</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>随着数据的增多，数据的备份显得日益重要，下面是mysql常用的数据导入导出命令。</p>
<ol>
<li><p>导出整个数据库</p>
<p>格式：mysqldump -u 用户名 -p 数据库名 &gt; 导出的文件名  </p>
</li>
</ol>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2008/01/22/mysql-imput-output/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.liudongkai.com/2008/01/21/Linux-tar-introduction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="東木">
      <meta itemprop="description" content="The palest ink is better than the best memory.">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dong's Note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2008/01/21/Linux-tar-introduction/" itemprop="url">
                  Linux下的压缩打包–tar命令详解
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2008-01-21 00:00:00" itemprop="dateCreated datePublished" datetime="2008-01-21T00:00:00+08:00">2008-01-21</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Windows下最常见的压缩文件只有两种，.zip和.rar。可是Linux就不同了，有.Z、bz2、.gz、.tar、.tar.gz等众多的压 缩文件名，它们分别对应了各种压缩打包命令。要了解这些压缩打包命令的使用，首先要弄清两个概念：打包和压缩。打包是指将一大堆文件或目录什么的变成一个 总的文件，压缩则是将一个大的文件通过一些压缩算法变成一个小文件。Linux中的很多压缩命令只能针对一个文件进行压缩，当要压缩一大堆文件时，就得先 借助打包命令将这一大堆文件先打成一个包，然后再用压缩命令进行压缩。因此打包命令在Linux的应用中具有很重要的作用。Linux下最常用的打包命令就是tar，使用tar命令打包后，就可以用其它的命令来进行压缩了。tar命令的使用方法如下：</p>
<blockquote>
<p>tar [-cxtzjvfpPN] 文件与目录<br>参数说明：<br>-c ：建立一个打包文件；<br>-x ：解开一个打包文件；<br>-t ：查看 tar包里面的文件；<br>（特别注意，在选择参数时，c/x/t仅能存在一个，不可同时存在，因为不可能同时压缩与解压缩。）<br>-z ：打包后用gzip压缩，生成.tar.gz文件；<br>-j ：打包后用zip2压缩，生成.tar.bz2文件；<br>-v ：压缩的过程中显示文件；<br>-f ：使用文件名，请留意，在f之后要立即接文件名，不要再加其它参数；<br>-p ：保持原文件的属性；<br>-P ：使用绝对路径来压缩；<br>-N ：设定日期(yyyy/mm/dd)，比后面接的日期还要新的文件才会被打包进新建的文件中；<br>–exclude FILE：在打包的过程中，不要将FILE打包。</p>
</blockquote>
<p>举几个例子：</p>
<p>例一：将整个/etc目录下的文件全部打包成为/tmp/etc.tar<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -cvf /tmp/etc.tar /etc  #仅打包，不压缩  </span><br><span class="line">tar -zcvf /tmp/etc.tar.gz /etc  #打包后，以gzip压缩  </span><br><span class="line">tar -jcvf /tmp/etc.tar.bz2 /etc  #打包后，以bzip2压缩</span><br></pre></td></tr></table></figure></p>
<p>例二：查阅上述/tmp/etc.tar.gz文件内有哪些文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -ztvf /tmp/etc.tar.gz</span><br></pre></td></tr></table></figure></p>
<p>例三：将/tmp/etc.tar.gz文件解压缩到/usr/local/src下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src   #先将工作目录变换到/usr/local/src下  </span><br><span class="line">tar -zxvf /tmp/etc.tar.gz</span><br></pre></td></tr></table></figure></p>
<p>例四：只将/tmp/etc.tar.gz内的etc/passwd解压到/tmp下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /tmp  </span><br><span class="line">tar -zxvf /tmp/etc.tar.gz etc/passwd</span><br></pre></td></tr></table></figure></p>
<p>例五：将/etc内的所有文件备份下来，并且保存其权限！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvpf /tmp/etc.tar.gz /etc</span><br></pre></td></tr></table></figure></p>
<p>例六：在/home当中，比2005/06/01新的文件才备份<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -N ’2005/06/01′ -zcvf home.tar.gz /home</span><br></pre></td></tr></table></figure></p>
<p>例七：备份/home、/etc，但不要/home/dmtsai<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar –exclude /home/dmtsai -zcvf myfile.tar.gz /home/* /etc</span><br></pre></td></tr></table></figure></p>
<p>例八：将/etc打包后直接解开在/tmp底下，而不产生文件！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /tmp  </span><br><span class="line">tar -cvf - /etc | tar -xvf -</span><br></pre></td></tr></table></figure></p>
<p>现在有一个需求，不知道该如何才能实现<br>压缩：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar czvf /data/backup/test.tar.gz /data/a/b/directory</span><br><span class="line">```  </span><br><span class="line">解压：</span><br></pre></td></tr></table></figure></p>
<p>cd /data/test<br>tar xzvf /data/backup/test.tar.gz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">问题是，解压后的文件，在/data/test/data/a/b/directory里面  </span><br><span class="line">能否压缩时只保留directory以下的所有目录，以directory作为/，而不是/data/a/b/directory？</span><br><span class="line"></span><br><span class="line">问题已经解决，找到了GNU tar的官方资料</span><br><span class="line"></span><br><span class="line">http://www.delorie.com/gnu/docs/tar/tar_98.html</span><br><span class="line"></span><br><span class="line">这样写就可以解决了</span><br></pre></td></tr></table></figure></p>
<p>tar czvf /data/backup/test.tar.gz /data/a/b/directory<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">改成</span><br></pre></td></tr></table></figure></p>
<p>tar czvf /data/backup/test.tar.gz -C /data/a/b(空格)directory<br><code>`</code><br>-C是临时切换工作目录，-P是绝对路径，在这里只用到-C参数就行了</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.liudongkai.com/2008/01/19/rsync-parameters-details/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="東木">
      <meta itemprop="description" content="The palest ink is better than the best memory.">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dong's Note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2008/01/19/rsync-parameters-details/" itemprop="url">
                  rsync参数详解
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2008-01-19 00:00:00" itemprop="dateCreated datePublished" datetime="2008-01-19T00:00:00+08:00">2008-01-19</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>选项说明</p>
<blockquote>
<p>-v, –verbose 详细模式输出<br>-q, –quiet 精简输出模式<br>-c, –checksum 打开校验开关，强制对文件传输进行校验<br>-a, –archive 归档模式，表示以递归方式传输文件，并保持所有文件属性，等于-rlptgoD<br>-r, –recursive 对子目录以递归模式处理<br>-R, –relative 使用相对路径信息</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync foo/bar/foo.c remote:/tmp/</span><br></pre></td></tr></table></figure>
<p>则在/tmp目录下创建foo.c文件，而如果使用-R参数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -R foo/bar/foo.c remote:/tmp/</span><br></pre></td></tr></table></figure></p>
<p>则会创建文件/tmp/foo/bar/foo.c，也就是会保持完全路径信息。</p>
<blockquote>
<p>-b, –backup 创建备份，也就是对于目的已经存在有同样的文件名时，将老的文件重新命名为~filename。可以使用–suffix选项来指定不同的备份文件前缀。<br>–backup-dir 将备份文件(如~filename)存放在在目录下。<br>-suffix=SUFFIX 定义备份文件前缀<br>-u, –update 仅仅进行更新，也就是跳过所有已经存在于DST，并且文件时间晚于要备份的文件。(不覆盖更新的文件)<br>-l, –links 保留软链结<br>-L, –copy-links 想对待常规文件一样处理软链结<br>–copy-unsafe-links 仅仅拷贝指向SRC路径目录树以外的链结<br>–safe-links 忽略指向SRC路径目录树以外的链结<br>-H, –hard-links 保留硬链结<br>-p, –perms 保持文件权限<br>-o, –owner 保持文件属主信息<br>-g, –group 保持文件属组信息<br>-D, –devices 保持设备文件信息<br>-t, –times 保持文件时间信息<br>-S, –sparse 对稀疏文件进行特殊处理以节省DST的空间<br>-n, –dry-run现实哪些文件将被传输<br>-W, –whole-file 拷贝文件，不进行增量检测<br>-x, –one-file-system 不要跨越文件系统边界<br>-B, –block-size=SIZE 检验算法使用的块尺寸，默认是700字节<br>-e, –rsh=COMMAND 指定替代rsh的shell程序<br>–rsync-path=PATH 指定远程服务器上的rsync命令所在路径信息<br>-C, –cvs-exclude 使用和CVS一样的方法自动忽略文件，用来排除那些不希望传输的文件<br>–existing 仅仅更新那些已经存在于DST的文件，而不备份那些新创建的文件<br>–delete 删除那些DST中SRC没有的文件<br>–delete-excluded 同样删除接收端那些被该选项指定排除的文件<br>–delete-after 传输结束以后再删除<br>–ignore-errors 及时出现IO错误也进行删除<br>–max-delete=NUM 最多删除NUM个文件<br>–partial 保留那些因故没有完全传输的文件，以是加快随后的再次传输<br>–force 强制删除目录，即使不为空<br>–numeric-ids 不将数字的用户和组ID匹配为用户名和组名<br>–timeout=TIME IP超时时间，单位为秒<br>-I, –ignore-times 不跳过那些有同样的时间和长度的文件<br>–size-only 当决定是否要备份文件时，仅仅察看文件大小而不考虑文件时间<br>–modify-window=NUM 决定文件是否时间相同时使用的时间戳窗口，默认为0<br>-T –temp-dir=DIR 在DIR中创建临时文件<br>–compare-dest=DIR 同样比较DIR中的文件来决定是否需要备份<br>-P 等同于 –partial<br>–progress 显示备份过程<br>-z, –compress 对备份的文件在传输时进行压缩处理<br>–exclude=PATTERN 指定排除不需要传输的文件模式<br>–include=PATTERN 指定不排除而需要传输的文件模式<br>–exclude-from=FILE 排除FILE中指定模式的文件<br>–include-from=FILE 不排除FILE指定模式匹配的文件<br>–version 打印版本信息<br>–address 绑定到特定的地址<br>–config=FILE 指定其他的配置文件，不使用默认的rsyncd.conf文件<br>–port=PORT 指定其他的rsync服务端口<br>–blocking-io 对远程shell使用阻塞IO<br>-stats 给出某些文件的传输状态<br>–progress 在传输时现实传输过程<br>–log-format=FORMAT 指定日志文件格式<br>–password-file=FILE 从FILE中得到密码<br>–bwlimit=KBPS 限制I/O带宽，KBytes per second<br>-h, –help 显示帮助信息</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.liudongkai.com/2008/01/19/rsync-backup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="東木">
      <meta itemprop="description" content="The palest ink is better than the best memory.">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dong's Note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2008/01/19/rsync-backup/" itemprop="url">
                  用rsync对网站进行镜像备份
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2008-01-19 00:00:00" itemprop="dateCreated datePublished" datetime="2008-01-19T00:00:00+08:00">2008-01-19</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>用rsync对网站进行镜像备份</p>
<p>by inburst <code>&lt;inburst@263.net&gt;</code><br><a href="http://xfocus.org" target="_blank" rel="noopener">http://xfocus.org</a></p>
<p>对系统管理员来说，平时的工作重心应该集中在维护系统正常运转，能够正常提供服务上，这里往往牵涉到一个数据备份的问题，在我所了解的情况中，有80%的系统管理员不是太关心自己服务器的安全性，但往往对备分镜像的技术相当感兴趣，但由于商业产品的软硬件价格都相当高昂，因此往往会选择自由软件。这里准备介绍的rsync就是这样的软件，它可以满足绝大多数要求不是特别高的备份需求。</p>
<h2 id="一、特性简介"><a href="#一、特性简介" class="headerlink" title="一、特性简介"></a><e1>一、特性简介</e1></h2><p>rsync是类unix系统下的数据镜像备份工具，从软件的命名上就可以看出来了——remote sync。它的特性如下：</p>
<ol>
<li>可以镜像保存整个目录树和文件系统。</li>
<li>可以很容易做到保持原来文件的权限、时间、软硬链接等等。</li>
<li>无须特殊权限即可安装。</li>
<li>优化的流程，文件传输效率高。</li>
<li>可以使用rcp、ssh等方式来传输文件，当然也可以通过直接的socket连接。</li>
<li>支持匿名传输。</li>
</ol>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2008/01/19/rsync-backup/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.liudongkai.com/2008/01/19/linux-install-rz-sz/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="東木">
      <meta itemprop="description" content="The palest ink is better than the best memory.">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dong's Note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2008/01/19/linux-install-rz-sz/" itemprop="url">
                  Linux系统手动安装rz sz 软件包
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2008-01-19 00:00:00" itemprop="dateCreated datePublished" datetime="2008-01-19T00:00:00+08:00">2008-01-19</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>定制安装的linux可能没有把rzsz包安装到系统，这对用securecrt这样的windows工具传输文件特别不方便。为了使用这个方便的法门，可以手动安装之。</p>
<ol>
<li><p>下载软件 rzsz-3.48.tar.gz。登录linux，用命令下载。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://freeware.sgi.com/source/rzsz/rzsz-3.48.tar.gz</span><br></pre></td></tr></table></figure>
</li>
<li><p>解压 tar zxvf rzsz-3.48.tar.gz</p>
</li>
<li>安装 <code>cd rzsz-3.48 ; make posix</code> 。注意：这个软件安装与常规的GNU软件不同—没有<code>configure</code>(配置)及<code>make install</code> (安装过程)。先执行命令make,将给出下面的提示：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@web1 rzsz]# make</span><br><span class="line">Please study the #ifdef&apos;s in crctab.c, rbsb.c, rz.c and sz.c,</span><br><span class="line">make any necessary hacks for oddball or merged SYSV/BSD systems,</span><br><span class="line">then type &apos;make SYSTEM&apos; where SYSTEM is one of:</span><br><span class="line">posix POSIX compliant systems</span><br><span class="line">linux LINUX systems</span><br><span class="line">odt SCO Open Desktop</span><br><span class="line">icc SCO Open Desktop, Intel compiler</span><br><span class="line">sysvr4 SYSTEM 5.4 Unix, SCO Open Desktop</span><br><span class="line">sysvr3 SYSTEM 5.3 Unix with mkdir(2), COHERENT 4.2</span><br><span class="line">sysv SYSTEM 3/5 Unix</span><br><span class="line">xenix Xenix</span><br><span class="line">x386 386 Xenix</span><br><span class="line">bsd Berkeley 4.x BSD, Ultrix, V7</span><br><span class="line">tandy Tandy 6000 Xenix</span><br><span class="line">dnix DIAB Dnix 5.2</span><br><span class="line">dnix5r3 DIAB Dnix 5.3</span><br><span class="line">amiga 3000UX running SVR4</span><br><span class="line">POSIX POSIX compliant systems (SCO Open Desktop, strict)</span><br><span class="line">doc Format the man pages with nroff</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>根据自己的系统选择make的位置参数，一般情况下，选posix或linux就可以了。执行命令make posix，我们从输出部分可以很清楚的看见这个步骤所进行的工作：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@web1 rzsz]# make posix</span><br><span class="line">gcc -m486 -O2 -DLINUX -DHVM -DREGISTERED -s -DPOSIX -DMD=2 rz.c -o rz</span><br><span class="line">size rz</span><br><span class="line">text data bss dec hex filename</span><br><span class="line">24847 636 10400 35883 8c2b rz</span><br><span class="line">rm -f rb rx rc</span><br><span class="line">ln rz rb</span><br><span class="line">ln rz rx</span><br><span class="line">ln rz rc</span><br><span class="line">gcc -m486 -O2 -DLINUX -DHVM -DREGISTERED -s -DPOSIX sz.c -o sz</span><br><span class="line">size sz</span><br><span class="line">text data bss dec hex filename</span><br><span class="line">29030 696 10208 39934 9bfe sz</span><br><span class="line">rm -f sb sx zcommand zcommandi</span><br><span class="line">ln sz sb</span><br><span class="line">ln sz sx</span><br><span class="line">ln sz zcommand</span><br><span class="line">ln sz zcommandi</span><br></pre></td></tr></table></figure></p>
<p>修改Makefile第四行<code>OFLAG= -O 为 OFLAG= -O -DREGISTERED</code></p>
<p> 否则，编译后，在上传下载完成都会提示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">**** UNREGISTERED COPY *****</span><br><span class="line">Please read the License Agreement in rz.doc</span><br></pre></td></tr></table></figure></p>
<ol start="4">
<li><p>为了方便使用这个工具，把相关文件复制到目录/usr/bin下面。这里只需要拷贝2个文件rz及sz,命令为：<code>cp rz sz /usr/bin</code> .</p>
</li>
<li><p>设置环境变量 export RZSZLINE=/dev/modem。如果不设置这个环境变量，执行命令rz的时候，总是会提示你”<strong>Warning: Missing environment variable ‘RZSZLINE’ (Linux) rz ready. Type “sz file …” to your modem program</strong>“。</p>
</li>
<li><p>上传文件测试rzsz。在windows下通过securecrt连接远程linux服务器，然后执行命令rz。<br><img src="http://photo.liudongkai.com/blog/200712241198479839015.jpg" alt=""><br>回车后将弹出发送文件选择窗口：<br><img src="http://photo.liudongkai.com/blog/200712241198479862859.jpg" alt=""><br>点“添加”按钮，再选“确定”按钮就可把windows主机上的文件通过ssh协议上传到linux主机。通过“Shifs”或“Ctrl”键可以实现多个文件的传输。把linux文件下载到windows用命令sz <filename>,就很容易的把文件下载了；不过有一个地方得弄清楚：这些文件下载到什么位置了（windows）,通过对securecrt的简单设置即可把文件下载到我们指定的目录。设置操作如下图所示：<br><img src="http://photo.liudongkai.com/blog/200712241198479878093.jpg" alt=""><br>点下载右侧那个按钮（只有3个点）即可进行下一步设置。<br>怎么把windows下的目录上传到linux呢？一个办法是在windows下把目录打包压缩成一个文件在上传，另外一个是使用另外一个工具ssh secure shell(可以在操作界面直接拖拽文件或目录)。</filename></p>
</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.liudongkai.com/2008/01/16/Patapon-personage-introduction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="東木">
      <meta itemprop="description" content="The palest ink is better than the best memory.">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dong's Note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2008/01/16/Patapon-personage-introduction/" itemprop="url">
                  啪嗒砰各种烧饼的配方以及属性加成
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2008-01-16 00:00:00" itemprop="dateCreated datePublished" datetime="2008-01-16T00:00:00+08:00">2008-01-16</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Game/" itemprop="url" rel="index"><span itemprop="name">Game</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <table align="center" border="1" cellspacing="0" width="480"><br><tbody><tr><br><th rowspan="2" height="100" width="100">眼球烧饼<img src="http://photo.liudongkai.com/blog/Patapon001.jpg" border="0"></th><br><th scope="col" height="55" width="490">最最基本的烧饼，属性是最基本的但是可以戴头盔来补足属性</th><br></tr><br><tr><br><td height="55">材料：物品合成等级之和=2</td><br></tr><br><tr><br><th scope="col" rowspan="2" height="100" width="100">兔耳烧饼<img src="http://photo.liudongkai.com/blog/Patapon002.jpg" border="0"></th><br><th scope="col" height="55" width="490"><span class="STYLE5">最小伤害+3/最大伤害+3/震晕+30%/免疫震晕</span></th><br></tr><br><tr><br><td height="55">材料：物品合成等级之和=3</td><br></tr><br><tr><br><th scope="col" rowspan="2" height="100" width="100">蟹黄烧饼<img src="http://photo.liudongkai.com/blog/Patapon003.jpg" border="0"></th><br><th scope="col" height="55" width="490"><br>最小伤害+5/最大伤害+5/速度<em>0.8/暴击+10%/抗暴击+20%<br>/抗震晕+20%/免疫点燃<br></em></th><br></tr><br><tr><br><td height="55">材料：物品合成等级之和=4</td><br></tr><br><tr><br><th scope="col" rowspan="2" height="100" width="100">昆虫烧饼<img src="http://photo.liudongkai.com/blog/Patapon004.jpg" border="0"></th><br><th scope="col" height="55" width="490"><br>HP+100/抗普通+12%/抗弓箭+50%/抗标枪+50%/抗长矛+12%<br></th><br></tr><br><tr><br><td height="55">材料：物品合成等级之和=5</td><br></tr><br><tr><br><th scope="col" rowspan="2" height="100" width="100">刺猬烧饼<img src="http://photo.liudongkai.com/blog/Patapon005.jpg" border="0"></th><br><th scope="col" height="55" width="490"><span class="STYLE5">HP+50/速度0.5/暴击+80%</span></th><br></tr><br><tr><br><td height="55">材料：物品合成等级之和=6</td><br></tr><br><tr><br><th scope="col" rowspan="2" height="100" width="100">牛角烧饼<img src="http://photo.liudongkai.com/blog/Patapon006.jpg" border="0"></th><br><th scope="col" height="55" width="490"><br>HP+80/最小伤害+30/最大伤害+50/<span class="STYLE7">速度<em>1.3</em></span>/抗普通+6%/抗弓箭+10%/抗标枪+10%/抗长矛+6%/暴击+20%/击退+50%/震晕+50%/抗暴击+20%/抗击退+20%/抗震晕+20%<br></th><br></tr><br><tr><br><td height="55">材料：物品合成等级之和=7    </td><br></tr><br><tr><br><th scope="col" rowspan="2" height="100" width="100">天使烧饼<img src="http://photo.liudongkai.com/blog/Patapon007.jpg" border="0"></th><br><th scope="col" height="55" width="490"><span class="STYLE5">HP+150/最小伤害+10/最大伤害+15/速度0.8/暴击+50%</span></th><br></tr><br><tr><br><td height="55">材料：物品合成等级之和=8</td><br></tr><br></tbody><br></table>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.liudongkai.com/2008/01/12/php-chart/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="東木">
      <meta itemprop="description" content="The palest ink is better than the best memory.">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dong's Note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2008/01/12/php-chart/" itemprop="url">
                  PHP图表生成程序
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2008-01-12 00:00:00" itemprop="dateCreated datePublished" datetime="2008-01-12T00:00:00+08:00">2008-01-12</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p>Image_Graph</p>
<p>基于 Pear 库的图表程序。<br>Demo：<a href="http://pear.veggerby.dk/samples/" target="_blank" rel="noopener">http://pear.veggerby.dk/samples/</a></p>
</li>
<li><p>Open Flash Chart</p>
<p>基于 Flash 的图表程序。<br>网站：<a href="http://teethgrinder.co.uk/open-flash-chart/" target="_blank" rel="noopener">http://teethgrinder.co.uk/open-flash-chart/</a></p>
</li>
<li><p>PLCharts</p>
<p>轻量级基于 GD 库的 PHP 画图程序(可生成雷达图)。<br>网站：<a href="http://www.plchart.net/" target="_blank" rel="noopener">http://www.plchart.net/</a><br>Demo：<a href="http://www.plchart.net/demo/demo.html" target="_blank" rel="noopener">http://www.plchart.net/demo/demo.html</a></p>
</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/25/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/25/">25</a><span class="page-number current">26</span><a class="page-number" href="/page/27/">27</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/27/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">東木</p>
              <p class="site-description motion-element" itemprop="description">The palest ink is better than the best memory.</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">288</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">17</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">202</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2007 &mdash; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">東木</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Gemini</a> v6.3.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>












  















  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.3.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  



  










  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=6.3.0"></script>



  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
